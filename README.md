# TM1637 драйвер
Данный дравйер реализует поддержку 4 сегментных модулей дисплеев на базе контроллера TM1637 используюя логику стандартного printf. Поддерживается работа с несколькими дисплеями (ограничено только кол-вом свободных ног на МК).

# Использование
При загрузке репозитория помним что есть сабмодуль, поэтому юзаем правильно: git clone --recurse-submodules git@github.com:Alexandr2021i/STM32_TM1637.git
Указываем кол-во дисплеев в заголовочнике DISPLAYS_COUNT.

Ниже пример работы с одним дисплеем номер 0:

```
#include "tm1637.h"

bool DispPresent = TM1638_Init(0, GPIOA, GPIO_PIN_1, GPIOA, GPIO_PIN_1); // Пины и порты на свои заменить
...

TM1638_SetBrightness(0, 0);    // Отключить дисплей 0
TM1638_SetBrightness(0, 1..8); // Выставить яркость дисплея 0
...
TM1638_ClearDisplay(0);        // Очистить дисплей 0
...
TM1638_printf(0, daLeft, "%.1f", float/double value);    // daLeft - выравнивание по левому краю, daRight - выравнивание по правому краю
TM1638_printf(0, daLeft, "%u", unsigned value);
TM1638_printf(0, daLeft, "%d", signed value);
TM1638_printf(0, daLeft, "%02X", value);                 // Выврод в HEX фомате
TM1638_printf(0, daLeft, "Abcd");                        // Просто текст
```
В общем пользуемся так же как и printf'ом, не забывая что можно вывести 4 символа, так же помня что символ "," или "." на длину не влияют - это означает что на входе, например "12.45" (5 символов) на выходе будут XXXX коды сегментов (4 символа) так как точка объединяется с нужным сегментом в один код одного сегмента.

# Важно
Если используется ruduced libc / newlib-nano необходимо включить опции библиотеки libc USE FLOAT IN PRINTF [-u_printf_float] в противном случае вывод "%f" "%Lf" будет невозможен.
